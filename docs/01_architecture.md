# NEDIS í•©ì„± ë°ì´í„° ìƒì„± ì‹œìŠ¤í…œ - ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë° ì „ì²´ í”Œë¡œìš°

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ê°œìš”

### 3ë‹¨ê³„ ë¶„ë¦¬í˜• ë²¡í„°í™” ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        NEDIS ì›ë³¸ ë°ì´í„°ë² ì´ìŠ¤                          â”‚
â”‚                     (nedis_original.nedis2017)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Phase 1: ë™ì  íŒ¨í„´ ë¶„ì„ (EDA)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  PatternAnalyzer                                             â”‚    â”‚
â”‚  â”‚  â€¢ ë³‘ì› í• ë‹¹ íŒ¨í„´ ë¶„ì„                                          â”‚    â”‚
â”‚  â”‚  â€¢ KTAS ë¶„í¬ ë¶„ì„ (ê³„ì¸µì  4ë‹¨ê³„)                                 â”‚    â”‚
â”‚  â”‚  â€¢ ì§€ì—­ë³„ íŒ¨í„´ ë¶„ì„                                             â”‚    â”‚
â”‚  â”‚  â€¢ ì¸êµ¬í†µê³„ íŒ¨í„´ ë¶„ì„                                           â”‚    â”‚
â”‚  â”‚  â€¢ ì‹œê°„ì  íŒ¨í„´ ë¶„ì„                                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  AnalysisCache                                               â”‚    â”‚
â”‚  â”‚  â€¢ MD5 í•´ì‹œ ê¸°ë°˜ ë³€ê²½ ê°ì§€                                       â”‚    â”‚
â”‚  â”‚  â€¢ Pickle ì§ë ¬í™” ì €ì¥                                          â”‚    â”‚
â”‚  â”‚  â€¢ JSON ë©”íƒ€ë°ì´í„°                                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ ìºì‹œëœ íŒ¨í„´
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Phase 2: ë²¡í„°í™” í•©ì„± ë°ì´í„° ìƒì„±                       â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Stage 1: VectorizedPatientGenerator                        â”‚    â”‚
â”‚  â”‚  â€¢ ì¸êµ¬í†µê³„ ë²¡í„° ìƒì„± (ë‚˜ì´, ì„±ë³„, ì§€ì—­)                            â”‚    â”‚
â”‚  â”‚  â€¢ ë³‘ì› í• ë‹¹ (íŒ¨í„´ ê¸°ë°˜, ì¤‘ë ¥ëª¨ë¸ X)                               â”‚    â”‚
â”‚  â”‚  â€¢ ë…ë¦½ ì„ìƒ ì†ì„± (ë°©ë¬¸ë°©ë²•, ì£¼ì¦ìƒ, ì§„ë£Œê³¼)                         â”‚    â”‚
â”‚  â”‚  â€¢ ì¡°ê±´ë¶€ ì†ì„± (KTASâ†’ì¹˜ë£Œê²°ê³¼ ì˜ì¡´ì„±)                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Stage 2: TemporalPatternAssigner                           â”‚    â”‚
â”‚  â”‚  â€¢ ì¼ë³„ ë³¼ë¥¨ ê³„ì‚° (ê³„ì ˆì„±Ã—ì£¼ë§Ã—ê³µíœ´ì¼)                              â”‚    â”‚
â”‚  â”‚  â€¢ ë‚ ì§œ í• ë‹¹ (ì—­ CDF ë°©ì‹)                                      â”‚    â”‚
â”‚  â”‚  â€¢ ì‹œê°„ í• ë‹¹ (ì‹œê°„ëŒ€ë³„ ë¶„í¬)                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Stage 3: CapacityProcessor                                 â”‚    â”‚
â”‚  â”‚  â€¢ ë™ì  ìš©ëŸ‰ ì œí•œ ê³„ì‚°                                           â”‚    â”‚
â”‚  â”‚  â€¢ Overflow ê°ì§€                                             â”‚    â”‚
â”‚  â”‚  â€¢ ì¬í• ë‹¹ ì²˜ë¦¬ (nearest/random/second_choice)                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Stage 4: DatabaseSaver                                     â”‚    â”‚
â”‚  â”‚  â€¢ ì²­í¬ë³„ ì €ì¥ (50,000 ë ˆì½”ë“œ)                                  â”‚    â”‚
â”‚  â”‚  â€¢ íŠ¸ëœì­ì…˜ ê´€ë¦¬                                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Phase 3: í†µê³„ì  ê²€ì¦ (ì„ íƒì )                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  StatisticalValidator                                       â”‚    â”‚
â”‚  â”‚  â€¢ KS ê²€ì • (ì—°ì†í˜• ë³€ìˆ˜)                                        â”‚    â”‚
â”‚  â”‚  â€¢ Chi-square ê²€ì • (ë²”ì£¼í˜• ë³€ìˆ˜)                                â”‚    â”‚
â”‚  â”‚  â€¢ ìƒê´€ê´€ê³„ ë¶„ì„                                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ ì „ì²´ ë°ì´í„° í”Œë¡œìš°

### 1. ì…ë ¥ ë°ì´í„° íë¦„

```
ì›ë³¸ ë°ì´í„° (322,573 ë ˆì½”ë“œ)
    â†“
íŒ¨í„´ ë¶„ì„ (1íšŒ ìˆ˜í–‰, ìºì‹œ)
    â†“
ì„¤ì • íŒŒì¼ (generation_params.yaml)
    â†“
CLI íŒŒë¼ë¯¸í„°
```

### 2. ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸

#### Step 1: íŒ¨í„´ ë¶„ì„ ë° ìºì‹±
```python
# ì‹¤ì œ ì‹¤í–‰ íë¦„
pattern_analyzer = PatternAnalyzer(db_manager, config)
patterns = pattern_analyzer.analyze_all_patterns()
# â†’ ìºì‹œ ì¡´ì¬ì‹œ ì¦‰ì‹œ ë¡œë“œ (< 1ì´ˆ)
# â†’ ì‹ ê·œ ë¶„ì„ì‹œ ì „ì²´ ìˆ˜í–‰ (ì•½ 30ì´ˆ)
```

#### Step 2: ë²¡í„°í™” í™˜ì ìƒì„±
```python
# ë‚ ì§œ ë…ë¦½ì  ì†ì„± ìƒì„±
patients_df = patient_generator.generate_all_patients(config)
# â†’ 322K ë ˆì½”ë“œ ìƒì„± (ì•½ 3ì´ˆ)
# â†’ ë©”ëª¨ë¦¬ ì‚¬ìš©: ~500MB
```

#### Step 3: ì‹œê°„ íŒ¨í„´ í• ë‹¹
```python
# ë‚ ì§œ/ì‹œê°„ í• ë‹¹
patients_with_dates = temporal_assigner.assign_temporal_patterns(
    patients_df, temporal_config
)
# â†’ ì¼ë³„ ë¶„í¬ ê³„ì‚° ë° í• ë‹¹ (ì•½ 2ì´ˆ)
```

#### Step 4: ìš©ëŸ‰ ì œì•½ ì ìš©
```python
# ë³‘ì› ìš©ëŸ‰ ì œí•œ ë° ì¬í• ë‹¹
final_patients = capacity_processor.apply_capacity_constraints(
    patients_with_dates, capacity_config
)
# â†’ Overflow ì²˜ë¦¬ (ì•½ 1ì´ˆ)
```

#### Step 5: ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥
```python
# ìµœì¢… ì €ì¥
save_to_database(final_patients, db_manager, args)
# â†’ ì²­í¬ë³„ ì €ì¥ (ì•½ 1ì´ˆ)
```

## ğŸ§© í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ìƒì„¸

### 1. PatternAnalyzer (íŒ¨í„´ ë¶„ì„ê¸°)

**ìœ„ì¹˜**: `src/analysis/pattern_analyzer.py`

**ì£¼ìš” ê¸°ëŠ¥**:
- **ë°ì´í„° í•´ì‹œ ê³„ì‚°**: ì›ë³¸ ë°ì´í„° ë³€ê²½ ê°ì§€
- **5ê°€ì§€ íŒ¨í„´ ë¶„ì„**: ë³‘ì›, KTAS, ì§€ì—­, ì¸êµ¬, ì‹œê°„
- **ê³„ì¸µì  ëŒ€ì•ˆ ì‹œìŠ¤í…œ**: 4ë‹¨ê³„ í´ë°± ì „ëµ
- **ìºì‹œ ê´€ë¦¬**: ë¶„ì„ ê²°ê³¼ ì €ì¥/ë¡œë“œ

**ê³„ì¸µì  ì¡°íšŒ ì˜ˆì‹œ**:
```
ì§€ì—­ "1101" (ì¢…ë¡œêµ¬) + ë³‘ì›íƒ€ì… "large" ì¡°íšŒ
  â†“ (ë°ì´í„° ë¶€ì¡±ì‹œ)
ì§€ì—­ "11" (ì„œìš¸) + ë³‘ì›íƒ€ì… "large" ì¡°íšŒ
  â†“ (ë°ì´í„° ë¶€ì¡±ì‹œ)
ì „êµ­ + ë³‘ì›íƒ€ì… "large" ì¡°íšŒ
  â†“ (ë°ì´í„° ë¶€ì¡±ì‹œ)
ì „ì²´ í‰ê·  ì‚¬ìš©
```

### 2. VectorizedPatientGenerator (í™˜ì ìƒì„±ê¸°)

**ìœ„ì¹˜**: `src/vectorized/patient_generator.py`

**ìƒì„± í”„ë¡œì„¸ìŠ¤**:
1. **ì¸êµ¬í†µê³„ ìƒì„±**: ë‚˜ì´/ì„±ë³„/ì§€ì—­ ë¶„í¬ ê¸°ë°˜
2. **ë³‘ì› í• ë‹¹**: ì‹¤ì œ í™˜ì ìœ ë™ íŒ¨í„´ ì‚¬ìš©
3. **ë…ë¦½ ì†ì„±**: ë°©ë¬¸ë°©ë²•, ì£¼ì¦ìƒ, ì§„ë£Œê³¼
4. **ì¡°ê±´ë¶€ ì†ì„±**: KTAS ìˆ˜ì¤€ë³„ ì¹˜ë£Œê²°ê³¼

**ë²¡í„°í™” ìµœì í™”**:
- NumPy ë°°ì—´ ì—°ì‚° í™œìš©
- Pandas ë²¡í„° ì—°ì‚°
- ë©”ëª¨ë¦¬ íš¨ìœ¨ì  ë°ì´í„° íƒ€ì…

### 3. TemporalPatternAssigner (ì‹œê°„ í• ë‹¹ê¸°)

**ìœ„ì¹˜**: `src/vectorized/temporal_assigner.py`

**ì‹œê°„ íŒ¨í„´ ì ìš©**:
- **ê³„ì ˆì„±**: ì›”ë³„ ë³€ë™ (1ì›”: 0.9ë°°, 7ì›”: 1.1ë°° ë“±)
- **ì£¼ë§ íš¨ê³¼**: í† /ì¼ 0.8ë°° ê°ì†Œ
- **ê³µíœ´ì¼**: 2017ë…„ í•œêµ­ ê³µíœ´ì¼ ë°˜ì˜
- **ì‹œê°„ëŒ€**: 24ì‹œê°„ ë¶„í¬ (ìƒˆë²½ ìµœì†Œ, ì˜¤í›„ ìµœëŒ€)

### 4. CapacityProcessor (ìš©ëŸ‰ ì²˜ë¦¬ê¸°)

**ìœ„ì¹˜**: `src/vectorized/capacity_processor.py`

**ìš©ëŸ‰ ì œì•½ ë¡œì§**:
```
ê¸°ë³¸ ìš©ëŸ‰ = daily_capacity_mean
ì£¼ë§ ì¡°ì • = ê¸°ë³¸ ìš©ëŸ‰ Ã— 0.8
ê³µíœ´ì¼ ì¡°ì • = ê¸°ë³¸ ìš©ëŸ‰ Ã— 0.7
ì•ˆì „ ì—¬ìœ  = ì¡°ì • ìš©ëŸ‰ Ã— 1.2

if í˜„ì¬ ë¶€í•˜ > ìš©ëŸ‰ ì œí•œ:
    overflow í™˜ì ì¬í• ë‹¹
```

## ğŸ’¾ ë°ì´í„° ëª¨ë¸

### ì…ë ¥ ìŠ¤í‚¤ë§ˆ
```sql
CREATE TABLE nedis_original.nedis2017 (
    index_key        INTEGER,     -- ê³ ìœ  í‚¤
    pat_reg_no       VARCHAR,     -- í™˜ì ë“±ë¡ë²ˆí˜¸
    pat_age          INTEGER,     -- ë‚˜ì´
    pat_sex          CHAR(1),     -- ì„±ë³„
    pat_do_cd        VARCHAR(4),  -- ì§€ì—­ì½”ë“œ
    emorg_cd         VARCHAR(8),  -- ë³‘ì›ì½”ë“œ
    ktas_fstu        INTEGER,     -- KTAS ìˆ˜ì¤€
    vst_dt           VARCHAR(8),  -- ë°©ë¬¸ë‚ ì§œ
    vst_tm           VARCHAR(4),  -- ë°©ë¬¸ì‹œê°„
    emtrt_rust       INTEGER,     -- ì¹˜ë£Œê²°ê³¼
    ...
);
```

### ì¶œë ¥ ìŠ¤í‚¤ë§ˆ
```sql
CREATE TABLE synthetic_nedis.synthetic_2017 (
    synthetic_id     VARCHAR(20), -- í•©ì„± ID
    pat_age_gr       VARCHAR(2),  -- ì—°ë ¹ê·¸ë£¹
    pat_sex          CHAR(1),     -- ì„±ë³„
    pat_do_cd        VARCHAR(4),  -- ì§€ì—­ì½”ë“œ (ì¼ë°˜í™” í•„ìš”)
    emorg_cd         VARCHAR(8),  -- ë³‘ì›ì½”ë“œ
    ktas_fstu        INTEGER,     -- KTAS ìˆ˜ì¤€
    vst_dt           VARCHAR(8),  -- ë°©ë¬¸ë‚ ì§œ
    vst_tm           VARCHAR(4),  -- ë°©ë¬¸ì‹œê°„
    emtrt_rust       INTEGER,     -- ì¹˜ë£Œê²°ê³¼
    overflow_flag    BOOLEAN,     -- ì¬í• ë‹¹ ì—¬ë¶€
    ...
);
```

## ğŸ”§ ì„¤ì • íŒŒì¼ êµ¬ì¡°

### generation_params.yaml
```yaml
generation:
  total_records: 322573
  batch_size: 50000
  year: 2017

pattern_analysis:
  cache_dir: "cache/patterns"
  min_sample_size: 10

temporal:
  time_resolution: "hourly"
  holiday_adjustment: 0.7
  weekend_adjustment: 0.8

capacity:
  safety_margin: 1.2
  redistribution_method: "nearest_available"

privacy:  # í˜„ì¬ ë¯¸ì ìš©
  k_anonymity: 5
  differential_privacy_epsilon: 1.0
```

## ğŸš€ ì‹¤í–‰ ëª…ë ¹ì–´

### ê¸°ë³¸ ì‹¤í–‰
```bash
python scripts/run_vectorized_pipeline.py \
    --total-records 322573 \
    --batch-size 50000 \
    --output-table synthetic_2017
```

### ê³ ê¸‰ ì˜µì…˜
```bash
python scripts/run_vectorized_pipeline.py \
    --total-records 100000 \
    --temporal-resolution daily \
    --capacity-safety-margin 1.5 \
    --enable-validation \
    --privacy-k-anonymity 10 \  # ë¯¸êµ¬í˜„
    --differential-privacy 1.0   # ë¯¸êµ¬í˜„
```

## ğŸ“Š ì„±ëŠ¥ íŠ¹ì„±

### ì²˜ë¦¬ ì‹œê°„ ë¶„ì„
| ë‹¨ê³„ | ì‹œê°„ | ë¹„ìœ¨ |
|-----|-----|-----|
| íŒ¨í„´ ë¶„ì„ (ìºì‹œ) | <1ì´ˆ | 5% |
| í™˜ì ìƒì„± | 3ì´ˆ | 43% |
| ì‹œê°„ í• ë‹¹ | 2ì´ˆ | 29% |
| ìš©ëŸ‰ ì²˜ë¦¬ | 1ì´ˆ | 14% |
| DB ì €ì¥ | 1ì´ˆ | 14% |
| **ì´ ì‹œê°„** | **7ì´ˆ** | 100% |

### ë©”ëª¨ë¦¬ ì‚¬ìš©
- í”¼í¬ ë©”ëª¨ë¦¬: ~2GB (322K ë ˆì½”ë“œ)
- ì²­í¬ë‹¹ ë©”ëª¨ë¦¬: ~300MB (50K ë ˆì½”ë“œ)
- ìºì‹œ í¬ê¸°: ~50MB

### í™•ì¥ì„±
- ì„ í˜• í™•ì¥: O(n) ë³µì¡ë„
- ìµœëŒ€ ì²˜ë¦¬ëŸ‰: ~10M ë ˆì½”ë“œ/ë¶„
- ë³‘ë ¬ ì²˜ë¦¬: ì²­í¬ë³„ ë³‘ë ¬í™” ê°€ëŠ¥

## âš ï¸ í˜„ì¬ ì œí•œì‚¬í•­

1. **í”„ë¼ì´ë²„ì‹œ ë³´í˜¸ ë¶€ì¡±**: ì°¨ë“± í”„ë¼ì´ë²„ì‹œ, k-ìµëª…ì„± ë¯¸êµ¬í˜„
2. **ìƒê´€ê´€ê³„ ë¯¸ë³´ì¡´**: ë³€ìˆ˜ ê°„ ë…ë¦½ ê°€ì •
3. **ë‹¨ìˆœ ì‹œê°„ ëª¨ë¸**: ë¡œê·¸ì •ê·œ ë¶„í¬, NHPP ë¯¸êµ¬í˜„
4. **ê²€ì¦ ì œí•œì **: ê¸°ë³¸ í†µê³„ ê²€ì¦ë§Œ ìˆ˜í–‰

## ğŸ”— ê´€ë ¨ ëª¨ë“ˆ ìœ„ì¹˜

- **ë©”ì¸ íŒŒì´í”„ë¼ì¸**: `scripts/run_vectorized_pipeline.py`
- **íŒ¨í„´ ë¶„ì„**: `src/analysis/pattern_analyzer.py`
- **í™˜ì ìƒì„±**: `src/vectorized/patient_generator.py`
- **ì‹œê°„ í• ë‹¹**: `src/vectorized/temporal_assigner.py`
- **ìš©ëŸ‰ ì²˜ë¦¬**: `src/vectorized/capacity_processor.py`
- **í†µê³„ ê²€ì¦**: `src/validation/statistical_validator.py`