# NEDIS 역학 분석 대시보드

## 📊 개요

NEDIS 역학 분석 대시보드는 원본 2017년 응급의료 데이터와 합성 데이터를 의료 역학적 관점에서 비교 분석하는 인터랙티브 웹 기반 도구입니다. 의료진과 연구자들이 합성 데이터의 품질과 유효성을 검증할 수 있도록 설계되었습니다.

## 🚀 주요 기능

### 1. 인구학적 분석 (Demographics Analysis)
- **연령별 분포**: 11개 연령군별 환자 분포 패턴 분석
- **성별 분포**: 남성/여성 환자 비율 및 패턴 비교
- **지역별 분포**: 17개 행정구역별 환자 분포 분석
- **통계적 검정**: 카이제곱 검정을 통한 분포 유의성 검증

### 2. 질병 역학 (Disease Epidemiology)
- **KTAS 중증도 분포**: 한국형 응급환자 분류도구(KTAS) 5단계 분포
- **연령별 중증도 패턴**: 연령군과 중증도 간 연관성 분석
- **성별 중증도 패턴**: 성별에 따른 응급 중증도 차이 분석
- **질병군 분류**: ICD-10 기반 주요 질병군별 분석

### 3. 시간 역학 (Temporal Epidemiology)
- **계절별 패턴**: 월별 응급실 방문 패턴 및 계절성 분석
- **요일별 패턴**: 평일/주말 응급실 이용 패턴 차이
- **시간별 패턴**: 24시간 중 응급실 방문 시간대 분포
- **유행성 질환**: 시간적 클러스터링 패턴 분석

### 4. 임상 역학 (Clinical Epidemiology)
- **생체징후 분석**: 혈압, 맥박, 호흡, 산소포화도 평균값 및 분포
- **KTAS별 임상 패턴**: 중증도별 생체징후 특성 분석
- **데이터 완성도**: 각 생체징후 측정값의 기록 완성도
- **임상적 유효성**: 의료 가이드라인 대비 데이터 품질 평가

### 5. 공간 역학 (Spatial Epidemiology)
- **병원별 분포**: 의료기관별 환자 분포 및 특성
- **지역간 격차**: 지역별 의료 접근성 및 중증도 패턴
- **의료 자원**: 병원 유형별 환자 유입 패턴 분석
- **공간적 클러스터**: 지역별 질병 발생 패턴 차이

### 6. 통계적 검정 (Statistical Testing)
- **분포 검정**: 카이제곱 검정, Kolmogorov-Smirnov 검정
- **연관성 측정**: Cramér's V, 상관계수 분석
- **효과 크기**: Cohen's d를 통한 임상적 의미 평가
- **의료적 타당성**: 의료 도메인 특화 지표 기반 검증

## 🛠 기술 구조

### Frontend
- **HTML5/CSS3**: 반응형 웹 디자인
- **JavaScript (ES6+)**: 인터랙티브 기능
- **Chart.js 4.3.0**: 고급 데이터 시각화
- **Bootstrap 5.3.0**: UI 컴포넌트 및 레이아웃

### Backend
- **Python 3.8+**: 데이터 분석 및 서버
- **DuckDB**: 고성능 분석용 데이터베이스
- **Pandas/NumPy**: 데이터 처리 및 계산
- **SciPy**: 통계적 검정 및 분석

### 의료 도메인 특화 기능
- **KTAS 분류**: 한국형 응급환자 분류 시스템 지원
- **ICD-10 매핑**: 국제질병분류 기반 질병군 분석
- **의료 가이드라인**: 임상 기준값 기반 데이터 검증
- **역학 지표**: 의료 역학 연구 표준 지표 적용

## 📋 사용 방법

### 1. 환경 설정

```bash
# 프로젝트 디렉토리로 이동
cd /path/to/nedis-synthetic-data

# 필요한 Python 패키지 설치
pip install -r requirements.txt

# 역학 분석 실행 (최초 1회)
python -c "from src.analysis.epidemiologic_analyzer import main; main()"
```

### 2. 대시보드 실행

```bash
# 기본 설정으로 대시보드 시작
python scripts/run_dashboard.py

# 커스텀 포트로 실행
python scripts/run_dashboard.py --port 8000

# 브라우저 자동 열기 비활성화
python scripts/run_dashboard.py --no-browser

# 외부 접속 허용 (네트워크 공유)
python scripts/run_dashboard.py --host 0.0.0.0
```

### 3. 웹 인터페이스 사용

1. **필터 설정**: 상단의 필터 섹션에서 분석 영역, 데이터 타입, 시각화 방식 선택
2. **탭 네비게이션**: 5개 주요 분석 영역 간 이동
3. **인터랙티브 차트**: 차트 요소 클릭으로 상세 정보 확인
4. **데이터 다운로드**: 분석 결과를 JSON/CSV 형태로 내보내기

### 4. 고급 분석 (선택사항)

```bash
# 비교 분석 실행 (합성 데이터 생성 후)
python -c "from src.analysis.comparative_analyzer import main; main()"

# 특정 분석만 실행
python scripts/run_analysis.py --type demographics
python scripts/run_analysis.py --type temporal --date-range 2017-01-01,2017-12-31
```

## 📊 차트 유형 및 해석

### 1. 막대 차트 (Bar Charts)
- **용도**: 카테고리별 분포 비교
- **해석**: 높은 막대는 해당 그룹의 환자 수가 많음을 의미
- **의료적 의미**: 연령대별, 중증도별 환자 분포 패턴 파악

### 2. 도넛 차트 (Doughnut Charts)  
- **용도**: 전체 대비 비율 표시
- **해석**: 각 섹션의 크기가 해당 그룹의 비율을 나타냄
- **의료적 의미**: 성별 분포, 주요 질병군 비율 등

### 3. 선형 차트 (Line Charts)
- **용도**: 시간에 따른 변화 추세
- **해석**: 상승/하강 패턴을 통한 시간적 트렌드 파악
- **의료적 의미**: 계절별 질병 유행, 시간대별 응급실 이용 패턴

### 4. 히트맵 (Heatmaps)
- **용도**: 두 변수 간 상관관계 시각화
- **해석**: 색상 강도가 값의 크기를 나타냄
- **의료적 의미**: 연령-중증도 연관성, 지역-질병 패턴 등

## 🔬 의료 역학 지표 해석

### KTAS 분포 기준값
- **Level 1 (소생술)**: ~0.7% (즉시 처치 필요)
- **Level 2 (응급)**: ~15% (10분 이내 처치)  
- **Level 3 (긴급)**: ~35% (30분 이내 처치)
- **Level 4 (준긴급)**: ~35% (1시간 이내 처치)
- **Level 5 (비긴급)**: ~14.3% (2시간 이내 처치)

### 생체징후 정상 범위
- **수축기혈압**: 80-200 mmHg
- **이완기혈압**: 50-120 mmHg
- **맥박**: 50-150 회/분
- **호흡수**: 10-30 회/분
- **산소포화도**: 85-100%

### 통계적 유의성 기준
- **p-value < 0.05**: 통계적으로 유의한 차이
- **Cramér's V > 0.1**: 약한 연관성 이상
- **편차 < 10%**: 임상적으로 허용 가능한 범위

## 🚨 알려진 제한사항

1. **합성 데이터**: 현재 Phase 1-2만 완료되어 일부 비교 기능 제한
2. **실시간 업데이트**: 정적 분석 결과 기반 (실시간 데이터 연동 없음)
3. **브라우저 호환성**: Chrome, Firefox, Safari 권장 (IE 지원 안함)
4. **데이터 민감성**: 개인정보는 모두 익명화/가명화 처리됨

## 🔄 업데이트 계획

### Phase 3 완료 후
- 병원 배정 패턴 분석
- 용량 제약 조건 검증
- 거리 기반 접근성 분석

### Phase 4-7 완료 후
- 실시간 합성 데이터 비교
- 고급 통계 검정 추가
- 기계학습 기반 패턴 분석

## 📞 지원 및 문의

- **기술 지원**: 대시보드 오류 또는 버그 리포트
- **의료 자문**: 역학 분석 결과 해석 문의
- **기능 요청**: 추가 분석 기능 또는 시각화 요청

---

**면책 조항**: 본 도구는 연구 목적으로 개발되었으며, 임상 진단이나 치료 결정에 직접 사용해서는 안 됩니다. 모든 의료적 결정은 자격을 갖춘 의료진의 판단에 따라 이루어져야 합니다.